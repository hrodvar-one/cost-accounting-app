<!doctype html>
<html lang="ru">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>AJAX - Example 02</title>
	<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
	<style>
        body {
            font-family: 'Roboto', sans-serif;
        }

        .container {
            max-width: 350px;
            margin-left: auto;
            margin-right: auto;
        }
	</style>
</head>

<body>

<div class="container">

	<input type="number" id="nums" min="1" max="8" value="3">
	<button type="button" id="get">Получить список</button>
	<ul id="list"></ul>

</div>

<script>
	function getData() {
		const nums = parseInt(document.querySelector('#nums').value);
		// URL на который будем отправлять GET запрос
		const requestURL = `/examples/ajax/01.php?nums=${nums}`;
		// const requestURL = `/examples/ajax/01.php`;
		const xhr = new XMLHttpRequest();
		xhr.open('GET', requestURL);
		xhr.onload = function () {
			if (xhr.status !== 200) {
				return;
			}
			const response = JSON.parse(xhr.response);
			let html = [];
			for (let i = 0, length = response.length; i < length; i++) {
				html.push(`<li>${response[i]}</li>`);
			}
			document.querySelector('#list').innerHTML = html.join('');
		}
		xhr.send();
	}
	// при нажатию на кнопку
	document.querySelector('#get').addEventListener('click', () => {
		getData();
	});
</script>

</body>

</html>